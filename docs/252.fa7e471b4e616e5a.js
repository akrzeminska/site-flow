"use strict";(self.webpackChunksite_flow=self.webpackChunksite_flow||[]).push([[252],{4252:(U,u,s)=>{s.r(u),s.d(u,{TasksModule:()=>z});var m=s(6814),g=s(2787),p=s(6236),h=s(1075),t=s(5879),x=s(1494),T=s(3477),Z=s(9347),k=s(9157),_=s(2032),d=s(5195),f=s(2296);const l=function(n){return{data:n}};function v(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",13)(1,"mat-card",14)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t._uU(6),t.qZA()(),t.TgZ(7,"mat-card-content")(8,"p"),t._uU(9),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.qZA()(),t.TgZ(12,"mat-card-actions",15)(13,"button",16),t.NdJ("click",function(){const c=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.deleteElement(c.id))}),t._uU(14,"Usu\u0144"),t.qZA(),t.TgZ(15,"button",17),t._uU(16,"Edytuj"),t.qZA()()()()}if(2&n){const e=r.$implicit;t.Q6J("cdkDragData",t.VKq(5,l,e)),t.xp6(4),t.Oqu(e.name),t.xp6(2),t.Oqu(e.scope),t.xp6(3),t.Oqu(e.description),t.xp6(2),t.hij("Termin zako\u0144czenia: ",e.completionDate,"")}}function b(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",13)(1,"mat-card",14)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t._uU(6),t.qZA()(),t.TgZ(7,"mat-card-content")(8,"p"),t._uU(9),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.qZA()(),t.TgZ(12,"mat-card-actions",15)(13,"button",16),t.NdJ("click",function(){const c=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.deleteElement(c.id))}),t._uU(14,"Usu\u0144"),t.qZA(),t.TgZ(15,"button",17),t._uU(16,"Edytuj"),t.qZA()()()()}if(2&n){const e=r.$implicit;t.Q6J("cdkDragData",t.VKq(5,l,e)),t.xp6(4),t.Oqu(e.name),t.xp6(2),t.Oqu(e.scope),t.xp6(3),t.Oqu(e.description),t.xp6(2),t.hij("Termin zako\u0144czenia: ",e.completionDate,"")}}function C(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",13)(1,"mat-card",14)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t._uU(6),t.qZA()(),t.TgZ(7,"mat-card-content")(8,"p"),t._uU(9),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.qZA()(),t.TgZ(12,"mat-card-actions",15)(13,"button",16),t.NdJ("click",function(){const c=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.deleteElement(c.id))}),t._uU(14,"Usu\u0144"),t.qZA(),t.TgZ(15,"button",17),t._uU(16,"Edytuj"),t.qZA()()()()}if(2&n){const e=r.$implicit;t.Q6J("cdkDragData",t.VKq(5,l,e)),t.xp6(4),t.Oqu(e.name),t.xp6(2),t.Oqu(e.scope),t.xp6(3),t.Oqu(e.description),t.xp6(2),t.hij("Termin zako\u0144czenia: ",e.completionDate,"")}}function D(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",13)(1,"mat-card",14)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t._uU(6),t.qZA()(),t.TgZ(7,"mat-card-content")(8,"p"),t._uU(9),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.qZA()(),t.TgZ(12,"mat-card-actions",15)(13,"button",16),t.NdJ("click",function(){const c=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.deleteElement(c.id))}),t._uU(14,"Usu\u0144"),t.qZA(),t.TgZ(15,"button",17),t._uU(16,"Edytuj"),t.qZA()()()()}if(2&n){const e=r.$implicit;t.Q6J("cdkDragData",t.VKq(5,l,e)),t.xp6(4),t.Oqu(e.name),t.xp6(2),t.Oqu(e.scope),t.xp6(3),t.Oqu(e.description),t.xp6(2),t.hij("Termin zako\u0144czenia: ",e.completionDate,"")}}const A=[{path:"**",component:(()=>{class n{constructor(e,o,i){this.tasksService=e,this.notificationService=o,this.dialog=i,this.dataTasks=[],this.todo=[],this.inProgress=[],this.toAccept=[],this.done=[]}ngOnInit(){this.getAllData()}getAllData(){this.tasksService.getAll().subscribe(e=>{e?(this.dataTasks=e,this.todo=this.dataTasks.filter(o=>"nowe"===o.status),this.inProgress=this.dataTasks.filter(o=>"w trakcie"===o.status),this.toAccept=this.dataTasks.filter(o=>"do zatwierdzenia"===o.status),this.done=this.dataTasks.filter(o=>"zako\u0144czone"===o.status),console.log(this.todo),console.log(this.toAccept),console.log(this.inProgress),console.log(this.done)):console.log("Nie znaleziono zada\u0144."),console.log("Zadania po pobraniu przez getAllData:",this.dataTasks)})}drop(e,o){if(e.previousContainer===e.container)(0,p.bA)(e.container.data,e.previousIndex,e.currentIndex);else{const i=e.item.data;i.data.status=o,console.log("Poka\u017c przesuwany task:",i),this.tasksService.updateTaskStatus(i.data).subscribe(()=>{this.getAllData()}),(0,p.EA)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex)}}deleteElement(e){this.dialog.open(h.$,{data:{message:"Czy na pewno chcesz usun\u0105\u0107 ten element?"}}).afterClosed().subscribe(i=>{!0===i&&this.tasksService.delete(e).subscribe(()=>{this.notificationService.openSnackBar("Element zosta\u0142 pomy\u015blnie usuni\u0119ty","Zamknij"),this.getAllData()})})}applyFilter(e){}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(x.C),t.Y36(T.g),t.Y36(Z.uw))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-tasks"]],decls:42,vars:8,consts:[[1,"sec"],[1,"title"],[1,"button"],["mat-flat-button","","color","primary"],["matInput","","placeholder","Filtruj",3,"keyup"],["input",""],[1,"content-container"],[1,"header-task-list"],[1,"tasks-kanban-content"],["cdkDropListGroup",""],[1,"example-container"],["cdkDropList","",1,"example-list",3,"cdkDropListData","cdkDropListDropped"],["class","example-box","cdkDrag","",3,"cdkDragData",4,"ngFor","ngForOf"],["cdkDrag","",1,"example-box",3,"cdkDragData"],[1,"example-card"],[1,"buttons"],["mat-button","","color","warn",3,"click"],["mat-button","","color","primary"]],template:function(o,i){1&o&&(t.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"h1"),t._uU(4,"Zadania"),t.qZA()(),t.TgZ(5,"div",2)(6,"button",3),t._uU(7,"+ Dodaj"),t.qZA()()()(),t.TgZ(8,"mat-form-field")(9,"mat-label"),t._uU(10,"Filtruj"),t.qZA(),t.TgZ(11,"input",4,5),t.NdJ("keyup",function(a){return i.applyFilter(a)}),t.qZA()(),t.TgZ(13,"div",6),t._UZ(14,"div",7),t.TgZ(15,"div",8)(16,"div",9)(17,"div",6)(18,"div",7),t._uU(19,"Przeci\u0105gnij zadania do odpowiedniej kolumny"),t.qZA(),t.TgZ(20,"div",8)(21,"div",9)(22,"div",10)(23,"h2"),t._uU(24,"Nowe:"),t.qZA(),t.TgZ(25,"div",11),t.NdJ("cdkDropListDropped",function(a){return i.drop(a,"nowe")}),t.YNc(26,v,17,7,"div",12),t.qZA()(),t.TgZ(27,"div",10)(28,"h2"),t._uU(29,"Do zatwierdzenia:"),t.qZA(),t.TgZ(30,"div",11),t.NdJ("cdkDropListDropped",function(a){return i.drop(a,"do zatwiedzenia")}),t.YNc(31,b,17,7,"div",12),t.qZA()(),t.TgZ(32,"div",10)(33,"h2"),t._uU(34,"W trakcie:"),t.qZA(),t.TgZ(35,"div",11),t.NdJ("cdkDropListDropped",function(a){return i.drop(a,"w trakcie")}),t.YNc(36,C,17,7,"div",12),t.qZA()(),t.TgZ(37,"div",10)(38,"h2"),t._uU(39,"Zako\u0144czone:"),t.qZA(),t.TgZ(40,"div",11),t.NdJ("cdkDropListDropped",function(a){return i.drop(a,"zako\u0144czone")}),t.YNc(41,D,17,7,"div",12),t.qZA()()()()()()()()),2&o&&(t.xp6(25),t.Q6J("cdkDropListData",i.todo),t.xp6(1),t.Q6J("ngForOf",i.todo),t.xp6(4),t.Q6J("cdkDropListData",i.toAccept),t.xp6(1),t.Q6J("ngForOf",i.toAccept),t.xp6(4),t.Q6J("cdkDropListData",i.inProgress),t.xp6(1),t.Q6J("ngForOf",i.inProgress),t.xp6(4),t.Q6J("cdkDropListData",i.done),t.xp6(1),t.Q6J("ngForOf",i.done))},dependencies:[m.sg,k.KE,k.hX,_.Nt,d.a8,d.hq,d.dn,d.dk,d.$j,d.n5,f.lW,p.Wj,p.Fd,p.Zt],styles:[".sec[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:20px 20px 0}.sec[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:30px;margin-bottom:16px}mat-form-field[_ngcontent-%COMP%]{width:100%}.tasks-kanban-content[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-around;margin:20px}.example-container[_ngcontent-%COMP%]{max-width:100%;margin:0 25px 25px 0;display:inline-block;vertical-align:top}.example-container[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:10px;border-bottom:1px solid #ccc}.example-card[_ngcontent-%COMP%]{box-shadow:none}.example-list[_ngcontent-%COMP%]{width:300px;border:solid 1px #ccc;min-height:calc(100vh - 320px);background:white;border-radius:4px;overflow:hidden;display:block}.example-box[_ngcontent-%COMP%]{border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px;height:270px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;padding-top:15px}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}@media only screen and (min-width: 375px) and (max-width: 576px){.content-container[_ngcontent-%COMP%]{width:calc(100vw - 50px)}}@media only screen and (min-width: 1024px){.content-container[_ngcontent-%COMP%]{width:calc(100vw - 298px)}}"]})}return n})()}];let O=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(A),g.Bz]})}return n})();var q=s(8263),y=s(8930);let z=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({providers:[{provide:x.C,useExisting:y.d}],imports:[m.ez,O,q.m]})}return n})()}}]);